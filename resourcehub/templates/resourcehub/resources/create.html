{% extends 'resourcehub/base.html' %}

{% block title %}Add New Resource{% endblock %}

{% block content %}
<div class="max-w-5xl  bg-white p-8 rounded-xl shadow-lg">
  <h1 class="text-3xl font-bold text-gray-800 mb-8 border-b pb-4">Add a New Resource</h1>

  <!-- 
      The form tag points to the current URL. The method is POST.
      'novalidate' is added to prevent default browser validation,
      allowing Django's server-side validation to take precedence.
    -->
  <form method="post" novalidate>
    <!-- Django's Cross-Site Request Forgery protection token. Essential for security. -->
    {% csrf_token %}

    <!-- 
          This is a good place to render non-field-specific errors,
          such as "This resource already exists".
        -->
    {% if form.non_field_errors %}
    <div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4" role="alert">
      {% for error in form.non_field_errors %}
      <p class="font-bold">{{ error }}</p>
      {% endfor %}
    </div>
    {% endif %}

    <!-- 
          We loop through each field in the form object passed from the view.
          This makes the template clean and reusable for different forms.
        -->
    {% for field in form %}
    <div class="mb-6">
      <label for="{{ field.id_for_label }}" class="block text-gray-700 text-sm font-bold mb-2">
        {{ field.label }}
      </label>

      <!-- 
              This renders the actual input/select/textarea element.
              Note: To add CSS classes (like Tailwind's) to the form fields themselves,
              the best practice is to do it in your forms.py file using widgets.
              This template is ready to display them correctly once you do.
            -->
      {{ field }}

      <!-- Display the field's help text if it exists -->
      {% if field.help_text %}
      <p class="text-gray-600 text-xs italic mt-2">{{ field.help_text }}</p>
      {% endif %}

      <!-- Display any validation errors specific to this field -->
      {% for error in field.errors %}
      <p class="text-red-500 text-xs italic mt-2">{{ error }}</p>
      {% endfor %}
    </div>
    {% endfor %}

    <div class="mt-8 flex justify-end">
      <a href="{% url 'resourcehub:resources' %}" class="text-gray-600 font-bold py-2 px-6 mr-2">Cancel</a>
      <button type="submit"
        class="bg-blue-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-blue-700 transition duration-300 flex items-center">
        <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"
          xmlns="http://www.w3.org/2000/svg">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
        </svg>
        Save Resource
      </button>
    </div>
  </form>
</div>
{% endblock %}