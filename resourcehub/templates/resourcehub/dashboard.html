{% extends 'resourcehub/base.html' %}

{% block title %}Dashboard{% endblock %}

{% block content %}

<h1 class="text-3xl font-bold text-gray-800 mb-8">Dashboard</h1>

<!-- KPI Cards Grid -->
<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">

    <!-- Card 1: Total Resources -->
    <div
        class="bg-white p-6 rounded-xl shadow-lg flex items-center justify-between transition-transform transform hover:scale-105">
        <div>
            <p class="text-sm font-semibold text-gray-500">Total Resources</p>
            <p class="text-3xl font-bold text-gray-900">{{ total_resources }}</p>
        </div>
        <div class="bg-blue-100 p-4 rounded-full">
            <svg class="w-6 h-6 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                xmlns="http://www.w3.org/2000/svg">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10">
                </path>
            </svg>
        </div>
    </div>

    <!-- Card 2: Total Technologies -->
    <div
        class="bg-white p-6 rounded-xl shadow-lg flex items-center justify-between transition-transform transform hover:scale-105">
        <div>
            <p class="text-sm font-semibold text-gray-500">Total Technologies</p>
            <p class="text-3xl font-bold text-gray-900">{{ total_technologies }}</p>
        </div>
        <div class="bg-green-100 p-4 rounded-full">
            <svg class="w-6 h-6 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                xmlns="http://www.w3.org/2000/svg">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M17.25 6.75L22.5 12l-5.25 5.25m-10.5 0L1.5 12l5.25-5.25"></path>
            </svg>
        </div>
    </div>

    <!-- Card 3: Total Categories -->
    <div
        class="bg-white p-6 rounded-xl shadow-lg flex items-center justify-between transition-transform transform hover:scale-105">
        <div>
            <p class="text-sm font-semibold text-gray-500">Total Categories</p>
            <p class="text-3xl font-bold text-gray-900">{{ total_categories }}</p>
        </div>
        <div class="bg-yellow-100 p-4 rounded-full">
            <svg class="w-6 h-6 text-yellow-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                xmlns="http://www.w3.org/2000/svg">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"></path>
            </svg>
        </div>
    </div>

    <!-- Card 4: New This Month -->
    <div
        class="bg-white p-6 rounded-xl shadow-lg flex items-center justify-between transition-transform transform hover:scale-105">
        <div>
            <p class="text-sm font-semibold text-gray-500">New (Last 30 Days)</p>
            <p class="text-3xl font-bold text-gray-900">{{ new_resources_last_30_days }}</p>
        </div>
        <div class="bg-purple-100 p-4 rounded-full">
            <svg class="w-6 h-6 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                xmlns="http://www.w3.org/2000/svg">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
            </svg>
        </div>
    </div>

</div>

<!-- Other dashboard components will go here later -->
<!-- New Row for Lists and Charts -->
<div class="mt-8 grid grid-cols-1 lg:grid-cols-1 gap-6">

    <!-- Left Column: Recently Added Resources -->
    <div class="lg:col-span-2 bg-white p-6 rounded-xl shadow-lg">
        <h2 class="text-xl font-bold text-gray-800 mb-4">Recently Added Resources</h2>
        <div class="space-y-4">
            <!-- This part will be looped in Django -->
            {% for resource in recent_resources %}
            <div
                class="flex items-center justify-between p-3 rounded-lg hover:bg-gray-50 transition-colors duration-200">
                <div>
                    <p class="font-semibold text-gray-900">{{ resource.title }}</p>
                    <p class="text-sm text-gray-500">{{ resource.technology.name }}</p>
                </div>
                <span class="text-sm text-gray-400">{{ resource.created_at|timesince }} ago</span>
            </div>
            {% empty %}
            <p class="text-gray-500">No resources have been added yet.</p>
            {% endfor %}
            <!-- End of loop -->
        </div>
    </div>
</div>

{% endblock %}